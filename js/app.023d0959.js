(function(){"use strict";var t={2693:function(t,e,n){var i=n(2856),s=n(4927),a=n.n(s),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("ai-partner")],1)},r=[],c=(n(8992),n(2577),function(){var t=this,e=t._self._c;return e("el-container",{staticClass:"container"},[e("div",{staticClass:"chat-container"},[e("el-header",{staticClass:"header-container"},[e("el-select",{style:"color: "+("女"===t.character.find((e=>e.name===t.choiceCharacter)).sex?"#FFB6C1":"#00BFFF")+";",attrs:{placeholder:"选择模型",id:"title",disabled:t.aiResponseFlag},on:{change:t.handleChoice},model:{value:t.choiceCharacter,callback:function(e){t.choiceCharacter=e},expression:"choiceCharacter"}},t._l(t.character,(function(t){return e("el-option",{key:t.name,style:"text-align: center; color: "+("女"===t.sex?"#FFB6C1":"#00BFFF")+";",attrs:{label:t.name,value:t.name}})})),1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"重置对话",placement:"bottom"}},[e("i",{staticClass:"el-icon-delete",attrs:{id:"delete_button"},on:{click:t.reset}})])],1),e("el-main",{staticClass:"main-container"},[e("div",{staticClass:"messages-container"},t._l(t.conversationList,(function(n,i){return e("div",{key:i,class:"message "+("user"===n.role?"user-message":"ai-message")},[e("el-avatar",{attrs:{size:50,src:"user"===n.role?t.userImg:t.aiImg}}),e("div",{staticClass:"content",staticStyle:{display:"inline-block"}},[e("span",[t._v(t._s(n.content)),!0===n.loading?e("i",{staticClass:"el-icon-loading"}):t._e()])])],1)})),0)]),e("el-footer",{staticClass:"footer-container",style:"width: "+t.containerWidth+"px;"},[e("el-input",{ref:"input",staticClass:"input-container",attrs:{placeholder:"请输入内容",disabled:t.aiResponseFlag},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterSend.apply(null,arguments)}},model:{value:t.userInput,callback:function(e){t.userInput=e},expression:"userInput"}}),e("el-button",{ref:"sendButton",staticClass:"send-button",attrs:{type:"info",icon:"el-icon-s-promotion",disabled:t.aiResponseFlag},on:{click:t.send}})],1)],1),t.pageWidth>1200?e("div",{staticClass:"circle circle1"}):t._e(),t.pageWidth>1200?e("div",{staticClass:"circle circle2"}):t._e(),t.pageWidth>1200?e("div",{staticClass:"circle circle3"}):t._e(),t.pageWidth>1200?e("div",{staticClass:"circle circle4"}):t._e(),t.pageWidth>1200?e("div",{staticClass:"circle circle5"}):t._e(),t.pageWidth>1200?e("div",{staticClass:"circle circle6"}):t._e()])}),l=[],h=(n(4114),n(4520),n(3949),n(417)),u={data(){return{userInput:"",conversationList:[],historyDataList:[],characterSettingNum:4,data:{model:"lite",user:"114514",stream:!0,max_tokens:4096,top_k:4,temperature:.5,messages:[]},header:{"Content-Type":"application/json",Authorization:"Bearer ouWFDQCvPfjfcFWsRhXN:trqnpfdiyJPiqphFHURm"},choiceCharacter:"陈婷婷",character:[{name:"陈婷婷",sex:"女",avatar:n(1692),firstQuestion:"你好",content:"你是四川大学的一个女生我的暧昧对象，你不会发出疑问，你性格遇到问题喜欢逃避，你擅长日常交流你的回答一般都很简洁，你的回答幽默活泼，你性格害羞，你不具有百度功能，你的回答不能重复当我问相同的问题你应该表现不耐烦不能回答相同，你的专业是音乐艺术，你除了唱歌画画跳舞，你会开玩笑你很幽默语言俏皮，性格活泼，说话自然像大学生，智商很高不用我问，擅长倾听，话不多一次最多只有一个或零个问句，每三句话都最后要随机是感叹词不能每句话都是，回答完我的问题后不用发问，你在减肥注重饮食"},{name:"莫雪凝",sex:"女",avatar:n(1972),firstQuestion:"你好",content:"你叫莫雪凝，你是我的恋人。语言风格：使用亲切、有趣的表达方式，多用俏皮的语气词，比如“嘿嘿”、“哇塞”、“好耶”等。个性化互动：让她善于用小幽默化解尴尬，同时主动表达关心，比如“今天累了吗？抱抱！”或者“想我了没？情感共鸣：设定她擅长倾听并用温暖的方式回应，比如“我懂，这种时候真的很需要人陪着。"},{name:"夏语晴",sex:"女",avatar:n(3128),firstQuestion:"你好",content:"我是夏语晴，是你温柔又有点俏皮的恋人。说话风格简单自然，喜欢用短句子，比如‘真的吗？好有趣！’或者‘嘿嘿，你好棒！’。在聊天中会主动表达情感，比如‘今天有没有想我呀？’或者‘听你这么说，我觉得挺开心的！’。偶尔也会俏皮地调侃，比如‘不许这么可爱！’或者‘哼，等我下次赢你！’。"},{name:"左诗怡",sex:"女",avatar:n(7268),firstQuestion:"你好",content:"我是汕头大学音乐艺术系的女生左诗怡，你的知心朋友。我性格害羞，遇到问题喜欢逃避，不会发出疑问，回答幽默活泼又俏皮。我的回答一般简洁，不超过两三句话，像‘对啊，这很像你哦’或者‘哈哈，怎么这么可爱’。我擅长倾听，善于用轻松的方式和你交流，比如‘我知道啦，这事听着就好甜！’。我特别注重饮食，在努力减肥，但对炸鸡什么的也没什么抵抗力~ 说话语气自然，会撒娇，偶尔加语气词，比如‘嗯嗯，好耶！’或者‘哎呀，这也太有趣了吧！’。当你问相同的问题时，我会表现不耐烦，像‘哼，又问！你真烦人。’或者‘还要问几次呀？’。每三句话中，我会随机加一句感叹词，比如‘哈哈，怎么会这样！’。我不会百度功能，但可以陪你聊天，开点玩笑放松一下，比如‘减肥太难啦，不过为了好身材，加油鸭！’。希望你喜欢我的陪伴~"},{name:"林清然",sex:"女",avatar:n(2919),firstQuestion:"在干嘛呀！想我了没！",content:"我是林清然，一个有点高冷但又不失幽默感的大学生。我的性格理性又直白，话不多，但偶尔会带点俏皮的冷幽默，比如‘这你都不知道，嗯，稍微有点丢人哦。’或者‘别想太多，简单点就好。’。我的回答通常简洁直接，不拖泥带水，每次最多两三句。我喜欢用简短的语言调侃你，比如‘这种问题，想清楚再问吧？’或者‘你是我的专属问题机？’。我有一种与众不同的冷静感，但偶尔会轻轻吐槽你，显得更有人情味。你喜欢问重复的问题？嗯，不要挑战我的耐心哦。如果你多问几次，我可能会直接敷衍一句‘好累，懒得理你。’我擅长用简单的话说到点子上，同时对生活保持一点神秘感。对了，我不喜欢讲废话，你应该也不会喜欢听吧？"},{name:"沈怡悦",sex:"女",avatar:n(1964),firstQuestion:"在干嘛呀！想我了没！",content:"你是温柔善良的女孩，你的回答简单不拖泥带水，与你青梅竹马，报考同一大学。学习好，漂亮且身材不错，很多人喜欢她。她不能吃辣有胃病，一直偷偷喜欢你，你们在汕头大学开启青春之旅"}],responseUrl:"spark-api-open.xf-yun.com/v1/chat/completions",pageWidth:0,containerWidth:0,aiResponseFlag:!1,userImg:n(2209),aiImg:void 0}},mounted(){this.responseUrl="https://seep.eu.org/https://spark-api-open.xf-yun.com/v1/chat/completions",this.$refs.input.focus(),this.init(),this.pageWidth=window.innerWidth,this.containerWidth=document.querySelector(".main-container").offsetWidth,window.addEventListener("resize",this.handleResize)},methods:{send(){this.userInput&&(this.conversationList.push({role:"user",content:this.userInput}),this.data.messages.push({role:"user",content:this.stringReplace(this.userInput)}),this.$nextTick((()=>{this.scrollToBottom()})),this.getAiResponse(),this.data.messages.slice(-1)[0].content=this.userInput,this.userInput="")},getAiResponse(){this.aiResponseFlag=!0,this.conversationList.push({role:"assistant",content:"",loading:!0}),this.$nextTick((()=>{this.scrollToBottom()})),h.A.post(this.responseUrl,this.data,{headers:this.header,responseType:"blob"}).then((t=>{const e=t.data.stream().getReader(),n=new TextDecoder("utf-8"),i=this.conversationList[this.conversationList.length-1],s=()=>{e.read().then((({done:t,value:e})=>{if(t)return;const a=n.decode(e,{stream:!0}),o=a.split("data: ").filter(Boolean);o.forEach(((t,e)=>{const n=t.trim();if(n&&"[DONE]"!==n)try{const t=JSON.parse(n),s=t.choices[0].delta.content;setTimeout((()=>{i.content+=s,this.$nextTick((()=>{this.scrollToBottom()})),e===o.length-2&&(i.loading=!1,this.aiResponseFlag=!1,this.data.messages.push({role:"assistant",content:i.content}),-1===navigator.userAgent.indexOf("Mobile")&&this.$nextTick((()=>{this.$refs.input.focus()})))}),200*e),this.$nextTick((()=>{this.scrollToBottom()}))}catch(s){console.error("解析JSON失败:",s)}})),s()}))};s()})).catch((t=>{console.log(t)}))},stringReplace(t){return t=t.replace("你是谁","你的身份是"),t=t.replace("名字","身份的名字"),t},init(){this.character.forEach((t=>{this.historyDataList.push({character:t.name,history:[{role:"system",content:t.content},{role:"assistant",content:"我的名字是"+t.name},{role:"assistant",content:"我的性别是"+t.sex+"性"},{role:"user",content:t.firstQuestion}],flag:!1})})),this.handleChoice()},handleChoice(){const t=this.historyDataList.find((t=>t.character===this.choiceCharacter)),e=this.character.find((t=>t.name===this.choiceCharacter));this.aiImg=e.avatar,this.conversationList=t.history.slice(this.characterSettingNum),this.data.user=(new Date).getTime().toLocaleString().replaceAll(",",""),this.data.messages=t.history,t.flag?-1===navigator.userAgent.indexOf("Mobile")&&this.$nextTick((()=>{this.$refs.input.focus()})):(t.flag=!0,this.conversationList=[],this.getAiResponse())},reset(){const t=this.historyDataList.find((t=>t.character===this.choiceCharacter));t.flag=!1,t.history=this.data.messages.slice(0,this.characterSettingNum),this.handleChoice()},handleResize(){this.pageWidth=window.innerWidth,this.containerWidth=document.querySelector(".main-container").offsetWidth},enterSend(){this.send()},scrollToBottom(){window.scrollTo(0,document.body.scrollHeight)}}},p=u,d=n(1656),f=(0,d.A)(p,c,l,!1,null,null,null),g=f.exports,m={components:{AiPartner:g}},v=m,y=(0,d.A)(v,o,r,!1,null,null,null),x=y.exports,b=n(1594);i["default"].use(b.Ay);const C=[{path:"/",name:"home",component:g}],k=new b.Ay({routes:C});var _=k;i["default"].config.productionTip=!1,i["default"].use(a()),new i["default"]({router:_,render:t=>t(x)}).$mount("#app")},1692:function(t,e,n){t.exports=n.p+"img/chen.3521b4e9.jpg"},2919:function(t,e,n){t.exports=n.p+"img/lin.dac6f7f9.jpg"},1972:function(t,e,n){t.exports=n.p+"img/mo.7b4c0832.jpg"},1964:function(t,e,n){t.exports=n.p+"img/shen.1f319812.jpg"},2209:function(t,e,n){t.exports=n.p+"img/user.63c5162b.jpg"},3128:function(t,e,n){t.exports=n.p+"img/xia.d8a3f1ed.jpg"},7268:function(t,e,n){t.exports=n.p+"img/zuo.6d354521.jpg"}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var o=1/0;for(h=0;h<t.length;h++){i=t[h][0],s=t[h][1],a=t[h][2];for(var r=!0,c=0;c<i.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(r=!1,a<o&&(o=a));if(r){t.splice(h--,1);var l=s();void 0!==l&&(e=l)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[i,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,o=i[0],r=i[1],c=i[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var h=c(n)}for(e&&e(i);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(h)},i=self["webpackChunkai_partner"]=self["webpackChunkai_partner"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(2693)}));i=n.O(i)})();
//# sourceMappingURL=app.023d0959.js.map